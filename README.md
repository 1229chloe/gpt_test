# gpt_test
하드코딩을 유지하여야 합니다. 
STEP7에서, 현재 독립적으로 평가되는 75가지 케이스의 판단조건과 도출결과의 하드코딩된 부분을 
title_key 단위로 묶어서 도출결과를 생성하도록 재구성해주세요. 
이 내용 이외의 제안은 향후에 실시하겠으니 지금 요청드리는 작업에만 집중해주세요. 

title_key가 동일한 판단조건들끼리 그룹화 하였을 때 그 중 1가지 또는 7가지라도 도출결과가 있더라도, 도출결과가 존재하지 않을때 안내되는 안내문구가 출력되고 있습니다. STEP6까지의 코딩은 사용자의 의도대로 작동되며 문제가 없습니다. 수정하지 말아주세요. 

title_key가 동일한 판단조건의 케이스를 title_key의 하위단위로 각각 구성하고, 해당되는 각각의 케이스가 독립적으로 판단되어 결과를 도출하되, 생성된 결과를 title_key 단위별로 구성하는 단계를 설정해주세요. 

[페이징 구성에 따라 각각 75가지 판단조건의 판단결과를 화면에 도출하는 방법] 
각각의 75가지 판단조건은 독립적으로 판단결과를 저장하도록 설정하였습니다.
다만, 페이징 원칙에 따라 title_key가 동일한 판단조건끼리 그룹화 하여 한 페이지 안에 결과가 도출합니다. 이때 화면에 도출되는 액션은 title_key가 동일한 판단조건들에서 각각 도출결과가 존재하는 경우 모든 도출결과를 병렬로 보여줍니다.
그리고 title_key가 동일한 판단조건들끼리 그룹화 하였을 때 도출할 수 있는 결과가 존재하지 않는 경우 안내문구를 보여줍니다.

(중요) 상세한 예시를 통해 설명드리겠습니다 : ---
title key 's2_2'와 관련되는 판단조건은 총 75가지 중 7가지 케이스에 해당합니다. 
이 7가지 케이스는 독립적으로 판단됩니다.

title key 's2_2'와 관련되는 판단조건 중 첫번째 등장하는 케이스의 판단조건은 ----'output_if_all_conditions_met = (tep6_selections.get(""s2_2_sub_2a"") == "변경 있음" and 
 step6_selections.get("s2_2_req_3" == "충족" and step6_selections.get("s2_2_req_4") == "충족" and step6_selections.get("s2_2_req_9") == "충족" and step6_selections.get("s2_2_req_1") == "미충족" and step6_selections.get("s2_2_req_2") == "미충족" and step6_selections.get("s2_2_req_5") == "미충족" and step6_selections.get("s2_2_req_6") == "미충족" and step6_selections.get("s2_2_req_7") == "미충족" and step6_selections.get("s2_2_req_8") == "미충족" and step6_selections.get("s2_ 2_req_10") == "미충족" ' 입니다. 
이 조건문과 일치하는것이 저장된 step6 데이터에서 확인된다면 결과를 도출하기 위해 
output_1_text 의 텍스트 내용 전체(서식, 줄바꿈, 내용 변경불가)와 output_2_text 의 텍스트 내용 전체를 출력할 수 있도록 저장합니다. 다만, 최종적으로 화면에 출력되는 구성과 형태는 별도로 정의되어 있습니다.

output_1_text : 
"보고유형은 다음과 같습니다. 

IR, 시판전보고 
「의약품의 품목허가‧신고‧심사 규정」 제3조의2제4항 단서조항에 따른 시판전 보고(Immediate Report, IR) 수준의 변경사항입니다. "

output_2_text:

"필요서류는 다음과 같습니다. 

1. (해당되는 경우) 해당 품목을 제조하는 제조소에 ‘의약품 등의 안전에 관한 규칙’ 제48조의2에 따른 제조 및 품질관리기준 적합판정서, 해외 제조원인 경우 제4조제1항제4호에 따른 유효기간 내의 제조증명서.
2. (S.2.1) 제조소명, 주소, 책임부과범위 및 해당하는 경우 수탁업소에 관한 자료.
4. 변경 전·후 제조소의 원료의약품, 중간체 또는 원료의약품 출발 물질 (해당되는 경우)제조 공정에 관한 자료.
10. 변경 전·후 출발 물질 또는 중간체의 최소 1배치에 대한 시험 성적서(해당하는 경우), 출발물질 또는 중간체 변경 전·후 최종 원료의약품 2배치에 대한 배치분석 자료."

title key 's2_2'와 관련되는 판단조건 중 두번째 등장하는 케이스의 판단조건은 ----'output_if_all_conditions_met = step6_selections.get(""s2_2_sub_2a"") == "변경 있음" and step6_selections.get("s2_2_req_1") == "미충족" and step6_selections.get("s2_2_req_2") == "미충족" and step6_selections.get("s2_2_req_3") == "미충족" and step6_selections.get("s2_2_req_4") == "미충족" and step6_selections.get("s2_2_req_5") == "미충족" and step6_selections.get("s2_2_req_6") == "미충족" and step6_selections.get(" s2_2_req_7") == "미충족" and step6_selections.get("s2_2_req_8") == "미충족" and step6_selections.get("s2_2_req_9") == "미충족" and step6_selections.get("s2_2_req_10") == "미충족" '입니다. 
이 조건문과 일치하는것이 저장된 step6 데이터에서 확인된다면 결과를 도출하기 위해 
output_1_text 의 텍스트 내용 전체(서식, 줄바꿈, 내용 변경불가)와 output_2_text 의 텍스트 내용 전체를 출력할 수 있도록 저장합니다. 다만, 최종적으로 화면에 출력되는 구성과 형태는 별도로 정의되어 있습니다.

output_1_text : 
"보고유형은 다음과 같습니다. 

Cmaj, 변경허가(신고)
「의약품의 품목허가‧신고‧심사 규정」 제3조의2(의약품의 허가‧신고의 변경 처리) 및 제6조(국제공통기술문서 작성)에 따라 원료의약품과 완제의약품의 제조원 또는 제조방법 중 품질에 중요한 영향을 미치는 변경허가(신고) 신청(Change, C) 대상에 해당하며, 변경사항의 중요도, 충족조건 및 제출자료 요건의 난이도 등을 고려하였을 때 Major change(Cmaj)수준의 변경사항입니다."

output_2_text:

"필요서류는 다음과 같습니다. 

1. (해당되는 경우) 해당 품목을 제조하는 제조소에 ‘의약품 등의 안전에 관한 규칙’ 제48조의2에 따른 제조 및 품질관리기준 적합판정서, 해외 제조원인 경우 제4조제1항제4호에 따른 유효기간 내의 제조증명서.
2. (S.2.1) 제조소명, 주소, 책임부과범위 및 해당하는 경우 수탁업소에 관한 자료.
3. (S.2.5) 무균원료의약품 생산의 경우 (위험도 평가 결과에 따른) 무균공정에 대한 공정밸리데이션 자료 및 평가 자료.
4. 변경 전·후 제조소의 원료의약품, 중간체 또는 원료의약품 출발 물질 (해당되는 경우)제조 공정에 관한 자료.
7. (S.4.1) 원료의약품 기준 및 시험방법에 관한 자료.
10. 변경 전·후 출발 물질 또는 중간체의 최소 1배치에 대한 시험 성적서(해당하는 경우), 출발물질 또는 중간체 변경 전·후 최종 원료의약품 2배치에 대한 배치분석 자료.
11. (S.7.2) 변경 후 원료의약품의 안정성 시험 필요성 고찰 및 필요한 경우 안정성 시험 이행 계획서."

.......

이렇게 동일한 title_key를 가지는 7가지의 케이스가 존재할 것입니다.
각 케이스마다 결과 도출 여부를 판단하여 결과를 도출하는지 저장합니다.
STEP7은 title_key 단위로 한페이지씩 페이징되는 기능을 가지고 있습니다. 따라서, 한 페이지 안에 예시로 설명한 title_key 하위 7가지 케이스 중 결과를 도출할 수 있는 케이스의 각 결과를 병렬로 모두 출력합니다. 이 때 각 title_key에 매칭되는 텍스트가 소제목으로 도출됩니다. 
다만, title_key 하위 7가지 케이스 중 단 한가지도 결과를 도출할 수 있는 케이스가 없는 경우에만 아래의 안내문구를 도출합니다. 
"해당 변경사항에 대한 충족조건을 고려하였을 때, 「의약품 허가 후 제조방법 변경관리 가이드라인」에서 제시하고 있는 범위에 해당하지 않는 것으로 확인됩니다"

위에 예시로 설명해드린 title_key 단위의 페이지 구성과 결과도출방식은 총 24개 title_key에 대해 적용됩니다. 

현재 STREAMLIT에서 테스트 한 결과 커밋된 파일은 위의 조건에 따라 도출되지 않습니다.
